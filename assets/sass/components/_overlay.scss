// ************************************************************************** //
// *
// *    Components: Offcanvas
// *
// ************************************************************************** //

@use 'sass:meta';
@use './../generated';
@use './../abstracts/mixins/var';
@use './../abstracts/mixins/flex';
@use './../abstracts/mixins/banner';
@use './../abstracts/mixins/position';
@use './../abstracts/mixins/transition';

$_component: 'overlay';
$_classname: '#{$prefix}#{$_component}';

@include banner.header('Component #{$_component}');



// * =============================================
// *
// *    Component functions
// *
// * =============================================




// * =============================================
// *
// *    Component Properties
// *
// * =============================================

// * Default layout variables
// * =========================

// $offcanvas--has-backdrop: if(meta.global-variable-exists('offcanvas--has-backdrop', $module: generated), generated.$offcanvas--has-backdrop, true) !default;
$offcanvas--width: 280px !default;
// $offcanvas--z    : 1000 !default;


// * Default theme variables
// * =========================

$offcanvas--backdrop--background-color : $black;
$offcanvas--container--background-color: $white;


// * =============================================
// *
// *    Component Definition
// *
// * =============================================

.#{$prefix}no-scroll {
    overflow: hidden;
    height: 100%;
}

.#{$_classname} {

    $overlay-blur : 20px;
    $overlay-opacity: 0.5;
    $overlay-color: $black;

    position: fixed;
    top: 0px;
    right: 0px;
    bottom: 0px;
    left: 0px;
    overflow: hidden;
    z-index: $z-index--overlay;

    &.show {
        &::after {
            opacity: 1;
        }
    }

    &::after {
        content: "";
        position: absolute;
        top: $overlay-blur * -2;
        right: $overlay-blur * -2;
        bottom: $overlay-blur * -2;
        left: $overlay-blur * -2;
        background-color:  #{rgba($overlay-color, $overlay-opacity)};
        opacity: 0;
        backdrop-filter: blur($overlay-blur);

        transition: opacity .3s;
    }
}